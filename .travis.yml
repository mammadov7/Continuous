language: c

matrix:
  include:
   - os: linux
     dist: trusty
   - os: linux
     dist: xenial
   - os: osx

addons:
  apt:
    packages:
      - gcovr
      - libcunit1-dev

script:
  - mkdir Build
  - cd Build
  - cmake .. -DCMAKE_INSTALL_PREFIX=../inst
  - make
  - ctest --verbose
  - gcovr
